<!DOCTYPE html>
<html>
  <head>

    <title>Skill Farming</title>

    <!-- <link rel="stylesheet" type="text/css" href="static/css/bootstrap.min.css"> -->
    <link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="bootflat/css/bootflat.min.css">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Ubuntu:400,700|Josefin+Sans:700">

    <!-- <link rel="stylesheet" type="text/css" href="object-fit-0.4.1/dist/polyfill.object-fit.css"> -->
    <link rel="stylesheet" type="text/css" href="skillfarming.css">

  </head>

  <body id="skill-farming-app" class="container">

    <h1>Skill Farming</h1>

    <div class="row">

      <div class="col-lg-3">

          <div class="panel panel-info">
            <div class="panel-heading">Tax Settings</div>
            <div class="panel-body">
              <div class="form-group">
                <label for="accounting-level">Accounting Level:</label>
                <input id="accounting-level" type="number" class="form-control" v-model="skillLevels.accounting">
              </div>

              <div class="form-group">
                <label for="broker-relations-level">Broker Relations Level:</label>
                <input id="broker-relations-level" type="number" class="form-control" v-model="skillLevels.brokerRelations">
              </div>
            </div>
          </div>

      </div>

      <span v-for="characterModel of characterModels">
        <div class="col-lg-3">
          <div class="panel panel-primary">
            <div class="panel-heading">
              <button class="btn btn-danger btn-xs pull-right" @click="removeCharacterModel(characterModel)">x</button>
              Character Model {{ $index + 1 }}
            </div>
            <div class="panel-body">
              <div class="form-group">
                <label for="sp-per-hour-{{ $index }}">SP per Hour:<label>
                <input id="sp-per-hour-{{ $index }}" type="number" class="form-control" v-model="characterModels[$index].spPerHour">
              </div>

              <div class="form-group">
                <label for="copies-{{ $index }}">Number of Characters:</label>
                <input id="copies-{{ $index }}" type="number" class="form-control" v-model="characterModels[$index].characterCount">
              </div>
            </div>
          </div>
        </div>
      </span>

      <div class="col-lg-3">
        <button class="btn btn-primary" @click="addCharacterModel">Add Character Model</button>
      </div>
    </div>


    <h2>Monthly Profit: <span class="pull-right">{{ totalRevenue - totalCost | currency '' 2 }} ISK</span></h2>

    <h2>Monthly Cost</h2>
    <table class="table">
      <thead>
        <tr>
          <th></th>
          <th class="isk-header">Base Price</th>
          <th class="isk-header">Monthly Multiplier</th>
          <th class="isk-header">Total Price (with Tax)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th>Plex Buy</th>
          <td class="isk">{{ prices.plexBuy | currency '' 2 }}</td>
          <td class="isk">{{ numberCharacters }}</td>
          <td class="isk">{{ taxedPlexBuy | currency '' 2 }}</td>
        </tr>
        <tr>
          <th>Extractor Buy</th>
          <td class="isk">{{ prices.extractorBuy | currency '' 2 }}</td>
          <td class="isk">{{ extractorsPerMonth }}</td>
          <td class="isk">{{ taxedExtractorBuy | currency '' 2 }}</td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <th></th>
          <th></th>
          <th></th>
          <th class="isk">{{ totalCost | currency '' 2}}</th>
        </tr>
      </tfoot>
    </table>

    <h2>Monthly Revenue</h2>
    <table class="table">
      <thead>
        <tr>
          <th></th>
          <th class="isk-header">Base Price</th>
          <th class="isk-header">Monthly Multiplier</th>
          <th class="isk-header">Total Price (with Tax)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th>Injector Sell</th>
          <td class="isk">{{ prices.injectorSell | currency '' 2 }}</td>
          <td class="isk">{{ injectorsPerMonth }}</td>
          <td class="isk">{{ taxedInjectorSell | currency '' 2 }}</td>
        </tr>
      </tbody>
      <tfoot>
        <th></th>
        <th></th>
        <th></th>
        <th class="isk">{{ totalRevenue | currency '' 2 }}</th>
      </tfoot>
    </table>

    <script type="text/javascript" src="bootstrap/js/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.26/vue.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue-resource/0.9.3/vue-resource.min.js"></script>
    <script type="text/javascript" src="skillfarming.js"></script>

  </body>
</html>
